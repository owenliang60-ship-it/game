# 口头对战游戏 - 30天项目计划

> 版本: v0.4 | 更新日期: 2026-02-07
> 项目开始日期: 2026-01-30
> 目标发布日期: 2026-03-01

---

## 项目概览

| 项目 | 内容 |
|------|------|
| **目标** | 发布可玩的1.0版本 |
| **周期** | 30天 |
| **角色数量** | 3个（骑士、装甲战士、弓箭手） |
| **平台** | Web网页版 |
| **时间投入** | 每天1-2小时（约45小时总工时） |
| **美术标准** | 梦幻西游界面布局 + 曹操传像素精美度 |
| **预算** | 1000-2000元 |

---

## 核心决策记录

| 决策项 | 选择 | 原因 |
|--------|------|------|
| 核心体验 | **策略博弈** | 猜测对手行动，选择克制技能；防御/逃跑是主要博弈手段 |
| 美术风格 | 像素风 | 梦幻西游+曹操传结合 |
| 界面布局 | 梦幻西游式左右对战 | 经典回合制布局 |
| 素材方案 | **PixelLab**（MCP集成） | 专业像素素材AI生成，已完成3角色 |
| 开发框架 | PixiJS | 专业2D游戏引擎，学习曲线平缓 |
| 分工模式 | 用户=产品经理，AI=执行者 | 用户无开发/美术经验 |
| AI策略 | 博弈树+Softmax | 1-2步预测，Temperature 0.5-1.0，各自为战 |
| **特效方案** | **PixiJS代码为主 + 少量像素精灵** | 粒子/滤镜做光效，PixelLab只生成箭矢等具体物件 |

---

## 工具清单

| 工具 | 用途 | 费用 | 状态 |
|------|------|------|------|
| PixelLab | AI像素素材生成（MCP集成） | 订阅制 | ✅ 已完成3角色 |
| Aseprite | 像素画编辑/动画 | ~140元一次性 | 待定（可能不需要） |
| PixiJS | 游戏开发框架 | 免费 | 待安装 |
| Claude | 代码开发 | 已有 | ✅ |

---

## 实际进度

| 天数 | 日期 | 完成内容 |
|------|------|----------|
| Day 1 | 2026-01-30 | 项目规划 + PRD v0.1 |
| Day 2 | 2026-02-01 | PRD完善至v0.8，规则审计通过 |
| Day 3 | 2026-02-03 | 三人战斗模拟测试 + AI策略设计框架 |
| Day 4 | 2026-02-05 | PRD v0.9（8个遗留问题确认）+ PixelLab配置 + 装甲战士素材 |
| Day 5 | 2026-02-06 | 弓箭手素材 + 骑士素材，三角色全部完成 |
| Day 6 | 2026-02-07 | 素材盘点 + VFX需求梳理 + 项目计划更新 |

**PRD状态**: v0.9，规则完备可开发 ✅

---

## 素材完成度

### 角色素材（PixelLab 已生成）

| 角色 | 画布 | 立绘 | 动画种类 | 方向成功率 | 状态 |
|------|------|------|----------|-----------|------|
| 装甲战士 | 96px | 8/8方向 | 8种 | 42/64 (65.6%) | ✅ |
| 弓箭手 | 96px | 8/8方向 | 9种 | 33/64 (51.6%) | ✅ |
| 骑士 | 128px | 8/8方向 | 8种 | 27/64 (42.2%) | ✅ |

> 采用4方向策略：S, W, N, E(=镜像W)，缺失方向用最近方向替代

### 还需要的素材

分两类：**像素精灵**（需要 PixelLab 生成）和 **代码特效**（PixiJS 实现）。

#### A. 需要生成的像素精灵（PixelLab map_object）

| 素材 | 说明 | 用于 | 优先级 |
|------|------|------|--------|
| 普通箭矢 | 基础箭，小尺寸 | 弓箭手普攻 | P0 |
| 金色箭矢 | 发光/金色箭 | 太阳之弓（弓箭手+骑士） | P0 |
| 彩虹箭矢 | 彩色拖尾箭 | 长虹贯日、彩虹穿云 | P1 |
| 匕首 | 小型匕首 | 弓箭手匕首突刺 | P1 |
| 盾牌图标 | 防御/顶盾状态图标 | UI状态栏 | P1 |
| 怒气图标 | 怒气满/怒气技能图标 | UI状态栏 | P2 |

> 共约 6 个小物件，用 PixelLab create_map_object 生成，每个约 32×32px

#### B. 代码实现的视觉特效（PixiJS）

| 特效 | 实现方式 | 用于技能 | 优先级 |
|------|----------|----------|--------|
| **箭矢飞行轨迹** | Tween动画+拖尾粒子 | 所有远程攻击 | P0 |
| **近战斩击光效** | 精灵帧动画/粒子闪光 | 升龙击、冲锋、追砍、重锤等 | P0 |
| **受击闪烁** | 角色精灵闪白/抖动 | 所有受伤 | P0 |
| **防御姿态** | 半透明盾牌叠加 | 防御动作 | P0 |
| **伤害数字弹出** | BitmapText + Tween | 所有伤害 | P0 |
| **顶盾护罩** | 半透明圆形光罩+呼吸动画 | 装甲战士顶盾 | P1 |
| **反震能量** | 环形波纹+闪光 | 装甲战士反震 | P1 |
| **反弹伤害线** | 闪电/光线从受击者到攻击者 | 反震触发 | P1 |
| **马鞭加速光环** | 角色脚下速度线粒子 | 骑士马鞭 | P1 |
| **游击战术标记** | 角色上方小箭头/速度图标 | 弓箭手被动 | P2 |
| **箭雨** | 大量粒子从天降落 | 漫天花雨（大招） | P1 |
| **冲锋残影** | 运动模糊/残影拖尾 | 冲锋 | P2 |
| **逃跑烟尘** | 小型粒子云 | 逃跑动作 | P2 |
| **死亡效果** | 角色渐隐+碎片粒子 | 角色死亡 | P1 |
| **HP/MP/RAGE条** | 渐变色条+动画变化 | UI | P0 |
| **状态buff图标** | 小型UI图标 | 状态栏 | P1 |

---

## 四周计划 + 里程碑（修订版）

### 第1周（Day 1-7）: 规则定义 + 素材 + 框架 ← 当前

**目标**: 游戏逻辑完备，角色素材就绪，项目可以开始写代码

| 天数 | 任务 | 产出 | 状态 |
|------|------|------|------|
| Day 1 | 项目规划 + PRD初稿 | PRD v0.1 | ✅ |
| Day 2 | PRD完善 + 规则审计 | PRD v0.8 | ✅ |
| Day 3 | 战斗模拟测试 + AI策略设计 | 测试报告 + AI设计文档 | ✅ |
| Day 4 | PRD v0.9 + PixelLab配置 + 装甲战士 | 规则完备 + 角色1素材 | ✅ |
| Day 5 | 弓箭手 + 骑士素材生成 | 角色2&3素材 | ✅ |
| Day 6 | 素材盘点 + VFX需求 + 计划更新 | 素材清单 + 修订计划 | ✅ 今天 |
| **Day 7** | **4方向素材整理 + PixiJS项目初始化** | **可运行的项目框架** | 待完成 |

**🏁 里程碑1 (Day 7)**:
- [x] PRD完成 v0.9，规则无歧义
- [x] 3个角色基础像素素材已生成（立绘+动画）
- [ ] 4方向素材整理完成，可直接加载
- [ ] PixiJS项目初始化，能在浏览器运行空白场景
- [ ] VFX素材需求清单确认

---

### 第2周（Day 8-14）: 核心战斗系统

**目标**: 战斗逻辑完整运行（先文字版，再加角色显示）

| 天数 | 主要任务 | 产出 |
|------|----------|------|
| Day 8 | 角色类、属性系统、技能数据定义 | `Character`, `Skill` 类 |
| Day 9 | 战斗管理器、回合流程、行动顺序 | `BattleManager`, `TurnSystem` |
| Day 10 | 伤害计算系统（普通/真实/精确瞄准） | `DamageCalculator` |
| Day 11 | 技能条件判断系统（逃跑/防御/技能互克） | 全18个技能可正确结算 |
| Day 12 | AI决策逻辑 v1（博弈树+Softmax） | `AIPlayer` |
| Day 13 | 战斗界面基础布局 + 角色精灵加载 | 能看到角色站在屏幕上 |
| Day 14 | **集成测试**: 控制台跑完整一局 + 角色站位显示 | 逻辑验证通过 |

**🏁 里程碑2 (Day 14)**:
- 控制台可以完整跑一局（2-8人）
- 所有18个技能和规则正确运行
- AI能基于博弈树选择动作
- 角色精灵已在画面上显示（静态站位）

**调整说明**: 相比原计划，Day 13-14 提前引入基础画面，不再纯文字版，因为角色素材已就绪。

---

### 第3周（Day 15-21）: 界面交互 + 动画 + 特效

**目标**: 完整可玩的图形化游戏

| 天数 | 主要任务 | 产出 |
|------|----------|------|
| Day 15 | 战斗界面完整布局（HP/MP/RAGE条、技能面板、战斗日志） | 梦幻西游式界面框架 |
| Day 16 | 玩家交互（选技能、选目标、确认） | 可操作的回合界面 |
| Day 17 | 角色动画系统（idle、攻击、受击、死亡） | 角色能动起来 |
| Day 18 | 生成箭矢精灵 + 投射物飞行系统 | 远程攻击有箭飞出 |
| Day 19 | 近战特效 + 受击/防御/逃跑视觉效果 | P0特效全部完成 |
| Day 20 | 状态特效（顶盾、反震、马鞭、游击战术）+ 箭雨大招 | P1特效完成 |
| Day 21 | 联调：完整玩一局，所有动画和特效衔接 | 可玩的图形化游戏 |

**🏁 里程碑3 (Day 21)**:
- 完整的梦幻西游式战斗界面
- 角色有 idle/攻击/受击/死亡 动画
- 远程攻击有箭矢飞行
- 核心技能有视觉特效
- 可以完整玩一局（人 vs AI）

---

### 第4周（Day 22-30）: 测试 + 打磨 + 发布

**目标**: 1.0版本发布

| 天数 | 主要任务 | 产出 |
|------|----------|------|
| Day 22 | 全面测试，整理bug列表 | 测试报告 |
| Day 23 | 修复 P0 bug | 稳定版本 |
| Day 24 | AI策略调优（v1.1） | AI体验优化 |
| Day 25 | P2特效补充（冲锋残影、逃跑烟尘等） | 视觉完善 |
| Day 26 | 平衡性微调 + 体验打磨 | 数值调整 |
| Day 27 | 多人数测试（2人、4人、8人） | 不同人数验证 |
| Day 28 | 部署到服务器 | 在线地址 |
| Day 29 | 最终测试 + 修复 | 上线前检查 |
| Day 30 | **正式发布 1.0** | **🎮 游戏上线** |

**🏁 里程碑4 (Day 30)**:
- 游戏上线可访问
- 规则结算无错误
- 画面成熟不是半成品
- AI博弈体验合理

---

## 里程碑总览

| 里程碑 | 截止日 | 关键交付物 | 验收标准 | 状态 |
|--------|--------|------------|----------|------|
| **M1** | Day 7 | PRD + 素材 + 框架 | PRD无歧义，素材可用，项目可运行 | 🔶 收尾中 |
| **M2** | Day 14 | 战斗系统 + 基础画面 | 控制台跑完整一局，角色在画面上 | 待开始 |
| **M3** | Day 21 | 交互界面 + 动画 + 特效 | 有画面能完整玩一局 | 待开始 |
| **M4** | Day 30 | 1.0版本发布 | 上线，成熟可玩 | 待开始 |

---

## VFX 优先级定义

| 优先级 | 含义 | 时间窗口 |
|--------|------|----------|
| **P0** | 没有就不能玩 | Week 2-3 (Day 13-19) |
| **P1** | 没有体验明显不完整 | Week 3 (Day 18-21) |
| **P2** | 锦上添花 | Week 4 (Day 25) |

---

## AI策略迭代计划

| 版本 | 时间 | 功能 |
|------|------|------|
| AI v1 | Day 12 | 1步博弈，基础收益计算，Softmax选择 |
| AI v1.1 | Day 24 | 参数调优，修复明显漏洞 |
| AI v2 | 1.0后 | 2步博弈，历史学习，难度分级 |

**AI设计文档**: `docs/AI_STRATEGY_DESIGN.md`

---

## 核心文档索引

| 文档 | 路径 | 说明 |
|------|------|------|
| 游戏逻辑PRD | `docs/GAME_LOGIC_PRD.md` | 完整游戏规则定义 (v0.9) |
| 项目计划 | `docs/PROJECT_PLAN.md` | 本文档 (v0.4) |
| AI策略设计 | `docs/AI_STRATEGY_DESIGN.md` | AI博弈算法设计 |
| 战斗模拟报告 | `docs/BATTLE_SIMULATION_REPORT.md` | 三人战平衡性测试 |

---

## 风险与应对

| 风险 | 概率 | 影响 | 应对方案 |
|------|------|------|----------|
| ~~AI生成素材不理想~~ | - | - | ~~已解决：PixelLab效果可用~~ |
| 技能逻辑复杂 | 中 | 中 | 优先实现核心，复杂的简化 |
| 动画系统困难 | 低 | 中 | 使用PixiJS成熟的动画API |
| AI策略不好玩 | 中 | 中 | 先简单版，边玩边调 |
| 时间不够 | 中 | 高 | 砍P2特效，简化动画 |
| **特效工作量超预期** | 中 | 中 | P0先做，P1/P2按时间灵活裁剪 |

---

## 下次继续的任务

**当前进度**: Day 6 完成

**下次继续 (Day 7)**:
1. 整理3个角色的4方向素材（S, W, N, E=镜像W）
2. 初始化 PixiJS 项目框架
3. 确认 M1 里程碑完成

---

## 更新日志

| 日期 | 版本 | 更新内容 |
|------|------|----------|
| 2026-01-30 | v0.1 | 初始计划 |
| 2026-01-30 | v0.2 | 头脑风暴后更新，确定技术方案和分工 |
| 2026-02-03 | v0.3 | 更新实际进度(Day1-3)；新增AI策略迭代计划；新增核心文档索引 |
| 2026-02-07 | v0.4 | 全面更新进度(Day1-6)；新增VFX素材需求清单及优先级；修订四周计划（Week2提前引入画面，Week3细化特效排期）；更新里程碑验收标准；素材方案从Midjourney改为PixelLab |
