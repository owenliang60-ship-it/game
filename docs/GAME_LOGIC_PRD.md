# 口头对战游戏 - 游戏逻辑PRD

> 版本: v0.9 | 更新日期: 2026-02-05
> 状态: 模拟测试问题已确认，可进入开发阶段

---

## 一、游戏概述

### 1.1 游戏类型
回合制多人对战游戏

### 1.2 玩家数量
2-8 名玩家

### 1.3 胜利条件
消灭所有其他玩家，成为最后存活者

### 1.4 核心体验
**策略博弈** - 猜测对手的行动，选择克制技能

---

## 二、游戏流程

### 2.1 完整流程图

```
┌─────────────────────────────────────────────────────────┐
│                      游戏开始                            │
└─────────────────────────────────────────────────────────┘
                           ↓
┌─────────────────────────────────────────────────────────┐
│                  选择玩家数量（2-8人）                    │
└─────────────────────────────────────────────────────────┘
                           ↓
┌─────────────────────────────────────────────────────────┐
│                      角色选择阶段                        │
│  1. 玩家（你）先选择一个角色                              │
│  2. AI为其他所有玩家选择角色                              │
└─────────────────────────────────────────────────────────┘
                           ↓
┌─────────────────────────────────────────────────────────┐
│                  初始化所有角色状态                       │
│  - HP = 最大值                                          │
│  - MP = 最大值                                          │
│  - RAGE = 0                                             │
└─────────────────────────────────────────────────────────┘
                           ↓
┌─────────────────────────────────────────────────────────┐
│                     进入第1回合                          │
└─────────────────────────────────────────────────────────┘
                           ↓
          ┌────────── 回合循环 ──────────┐
          │                              │
          ↓                              │
┌───────────────────────────┐            │
│     动作选择阶段           │            │
│  1. 玩家选择本回合动作      │            │
│  2. AI为其他角色选择动作    │            │
└───────────────────────────┘            │
          ↓                              │
┌───────────────────────────┐            │
│     动作结算阶段           │            │
│  按敏捷值从高到低依次结算   │            │
│  （敏捷相同则随机决定顺序） │            │
└───────────────────────────┘            │
          ↓                              │
┌───────────────────────────┐            │
│     状态更新阶段           │            │
│  - 更新所有角色当前状态     │            │
│  - 受到伤害的角色累积怒气   │            │
└───────────────────────────┘            │
          ↓                              │
┌───────────────────────────┐            │
│     死亡检查阶段           │            │
│  HP ≤ 0 的角色移除游戏     │            │
└───────────────────────────┘            │
          ↓                              │
┌───────────────────────────┐            │
│  存活玩家数量 > 1 ?        │────是─────→┘
└───────────────────────────┘
          │否
          ↓
┌─────────────────────────────────────────────────────────┐
│                      游戏结束                            │
│                   最后存活者获胜                          │
└─────────────────────────────────────────────────────────┘
```

### 2.2 回合内执行顺序

每个回合按以下顺序执行：

```
1. 回合开始
   ├── 被动技能触发（如：钢铁意志+5怒气）
   ├── 持续效果处理（如：顶盾回合数-1）
   └── 回合开始效果（如：反震立即生效）

2. 动作选择阶段
   └── 所有玩家/AI同时选择本回合动作

3. 动作结算阶段
   └── 按敏捷值从高到低依次结算

4. 回合结束
   └── 状态更新、死亡检查
```

### 2.3 行动顺序规则

- 按敏捷值从高到低依次结算
- **敏捷值相同时**: 随机决定行动顺序

### 2.4 死亡规则

- **死亡判定**: HP ≤ 0 时角色死亡
- **动作取消**: 角色死亡时，其本回合已选择但未结算的动作**不再执行**
- **状态清除**: 角色死亡时，身上所有状态效果（顶盾、游击战术、马鞭加速等）立即移除
- **移除游戏**: 死亡角色从游戏中移除，不再参与后续回合

---

## 三、角色属性系统

### 3.1 属性定义

| 属性 | 英文 | 说明 | 初始值 |
|------|------|------|--------|
| 生命值 | HP | 为0时角色死亡 | 角色各异 |
| 魔法值 | MP | 释放技能消耗 | 角色各异 |
| 敏捷值 | AGI | 决定回合行动顺序，高者先行动 | 角色各异 |
| 韧性值 | DEF | 减免受到的伤害 | 角色各异 |
| 怒气值 | RAGE | 受到伤害时累积，部分技能消耗，上限100 | 0 |
| 普攻伤害 | ATK | 普通攻击的基础伤害 | 角色各异 |

### 3.2 属性规则

1. **怒气值累积**: **仅受到伤害时**获得等额怒气值（受到50点伤害 = 获得50点怒气）
2. **怒气值上限**: 100（超出部分不累积）
3. **怒气值初始**: 游戏开始时所有角色怒气值为0
4. **数值精度**: 所有数值计算精确到小数点后两位
5. **资源回复**: MP和RAGE无自动回复机制，仅通过特定技能效果回复（如有）
6. **真实伤害**:
   - 无视韧性、防御、逃跑、顶盾等**一切减伤和闪避效果**
   - 对逃跑目标**100%命中**，无闪避判定
   - 固定造成标注的伤害值
   - 但仍然会为受伤者累积怒气

### 3.3 技能类型系统

每个技能/攻击都有类型标签，影响某些技能的交互效果。

| 类型 | 英文 | 说明 | 交互 |
|------|------|------|------|
| 近战 | Melee | 近身物理攻击 | 受「反震」影响 |
| 远程 | Ranged | 远距离物理攻击 | 不受「反震」影响 |
| 魔法 | Magic | 魔法攻击（未来扩展） | 不受「反震」影响 |
| 辅助 | Buff | 对自己施放的增益 | 无攻击判定 |

---

## 四、回合动作系统

### 4.1 基础动作（所有角色共有）

| 动作 | 需要选目标 | 消耗 | 效果 |
|------|-----------|------|------|
| **普通攻击** | 是（1个敌人） | 无 | 对目标造成[角色普攻伤害]点基础伤害 |
| **防御** | 否 | 无 | 本回合韧性值提升50% |
| **逃跑** | 否 | 无 | 默认50%概率躲避本回合所有攻击和技能 |

> **重要**: 普通攻击、防御、逃跑是**基础动作**，**不是技能**。
> - 「太阳之弓」的"目标使用技能"条件**不会**被普通攻击触发
> - 「回马枪」的"目标使用近战技能"条件**不会**被普通攻击触发
> - 「盾击」的"目标普攻"条件专门针对普通攻击
> - 普通攻击是MP耗尽后的备选输出手段

### 4.2 技能使用前提

- **MP消耗型技能**: 当前MP ≥ 技能消耗值 才能使用
- **HP消耗型技能**: 当前HP > 技能消耗值 才能使用（不能用到死）
- **RAGE消耗型技能**: 当前RAGE ≥ 技能消耗值 才能使用

### 4.3 防御详细规则

- 防御状态下，本回合韧性值 = 原韧性值 × (100% + 10% × n)，n = 角色**初始韧性值**
- 防御只影响普通伤害的减免计算
- **防御对真实伤害无效**（真实伤害无视韧性加成）
- 防御状态在本回合结算结束后消失

#### 防御韧性加成计算

| 角色 | 初始韧性(n) | 防御加成 | 防御后韧性 |
|------|------------|----------|-----------|
| 骑士 | 2 | ×1.2 | 2.4 |
| 装甲战士 | 3 | ×1.3 | 3.9 |
| 弓箭手 | 1.5 | ×1.15 | 1.725 |

> **设计意图**: 高韧性角色防御收益更高，但避免顶盾+防御后韧性过于极端

### 4.4 逃跑详细规则

#### 逃跑成功率
- 默认成功率: 50%
- 使用「马鞭」后成功率提升至: 70%（本局游戏永久生效）

#### 逃跑失败
- 正常受到所有攻击和技能影响

#### 逃跑成功后的闪避判定

逃跑成功后，并非完全躲避所有攻击，而是根据攻击类型分别判定闪避：

| 攻击类型 | 普通逃跑闪避率 | 马鞭后逃跑闪避率 |
|----------|--------------|----------------|
| 普通攻击 | 80% | 100% |
| 无追击特效的技能 | 50% | 80% |
| 有追击特效的技能 | 0%（必中） | 0%（必中） |

**追击特效技能**: 对逃跑目标有额外伤害加成的技能（如「追砍」）
- 追击技能对逃跑成功的目标无法闪避
- 且触发追击特效（如「追砍」伤害×4）

**反逃跑技能**: 对逃跑目标伤害归零的技能（如「冲锋」）
- 无论逃跑是否成功，只要选择了逃跑动作就触发
- 伤害归0，视为技能无效

**真实伤害 vs 逃跑**: 真实伤害技能（如「漫天花雨」）
- 无视逃跑成功与否，**100%命中**
- 无闪避判定，必定造成完整伤害

---

## 五、伤害计算系统

### 5.1 普通伤害公式

```
最终伤害 = 基础伤害 × 条件加成 × (10 - 韧性值) / 10 + 精确瞄准加成
```

### 5.2 真实伤害公式

```
最终伤害 = 标注伤害值（固定，无视一切减伤和闪避）
```

- 真实伤害**无视**：韧性、防御、逃跑、顶盾等所有减伤效果
- 真实伤害**必中**：对逃跑目标100%命中，无闪避判定
- 真实伤害**不适用**：精确瞄准加成
- 真实伤害技能：漫天花雨（弓箭手）
- **怒气累积**：受到真实伤害的角色仍然获得等额怒气

### 5.3 精确瞄准加成

弓箭手被动技能「精确瞄准」的额外伤害计算：

```
精确瞄准加成 = 5 × max(0, 弓箭手当前AGI - 目标AGI)
```

- 仅当弓箭手AGI > 目标AGI时触发
- 加成值加到最终伤害上（韧性计算之后）
- 对真实伤害技能不生效
- **反震交互**：反震基于精确瞄准加成后的最终伤害计算反弹

### 5.4 群体伤害怒气计算

群体伤害技能（如「漫天花雨」）的怒气累积：
- **按每个目标分别计算**
- 例：漫天花雨对3个敌人各造成80伤害，每个敌人各获得80怒气

### 5.5 计算步骤

1. **确定基础伤害**: 技能或普攻的基础伤害值
2. **计算条件加成**: 根据技能条件判断是否触发加成
3. **计算韧性减伤**: 乘以 (10 - 目标韧性值) / 10
4. **计算精确瞄准**: 如果攻击者是弓箭手且AGI更高，加上精确瞄准加成
5. **得到最终伤害**: 精确到小数点后两位，**最低为0**（不会出现负伤害）
6. **累积怒气**: 受伤角色获得等额怒气（上限100）

### 5.6 计算示例

**示例1：普通伤害**
> 骑士使用「追砍」攻击一个逃跑的弓箭手
> - 基础伤害: 15
> - 条件加成: 目标逃跑 → ×4 = 60
> - 弓箭手韧性: 1.5
> - 韧性减伤: 60 × (10-1.5)/10 = 60 × 0.85 = 51
> - 最终伤害: 51点

**示例2：精确瞄准**
> 弓箭手(AGI 8)使用「回马枪」攻击装甲战士(AGI 4)
> - 基础伤害: 30
> - 条件加成: 目标用近战技能 → ×2 = 60
> - 装甲战士韧性: 3
> - 韧性减伤: 60 × (10-3)/10 = 60 × 0.7 = 42
> - 精确瞄准: 5 × (8-4) = 20
> - 最终伤害: 42 + 20 = **62点**

**示例3：真实伤害**
> 弓箭手使用「漫天花雨」攻击开了顶盾的装甲战士
> - 真实伤害: 80（固定）
> - 无视顶盾、韧性等一切减伤
> - 最终伤害: **80点**

---

## 六、角色设计

### 6.1 骑士 (Knight)

**定位**: 均衡型战士，技能多样，攻守兼备

#### 基础属性

| 属性 | 数值 |
|------|------|
| 生命值 (HP) | 300 |
| 魔法值 (MP) | 150 |
| 敏捷值 (AGI) | 7 |
| 韧性值 (DEF) | 2 |
| 普攻伤害 (ATK) | 30 |

#### 被动能力

无（高敏捷本身即为优势）

#### 技能列表（6个）

| # | 技能名 | 类型 | 消耗 | 目标 | 基础伤害 | 条件效果 |
|---|--------|------|------|------|----------|----------|
| - | 普通攻击 | 近战 | 无 | 1个敌人 | 30 | - |
| 1 | 升龙击 | 近战 | 10 MP | 1个敌人 | 50 | 无条件 |
| 2 | 冲锋 | 近战 | 10 HP | 1个敌人 | 75 | 若目标本回合逃跑 → 伤害归0（无效） |
| 3 | 追砍 | 近战 | 10 MP | 1个敌人 | 15 | 若目标本回合选择逃跑（无论成功与否）→ 伤害×4；追击技能，对逃跑成功目标100%命中 |
| 4 | 太阳之弓 | **远程** | 15 MP | 1个敌人 | 30 | 若目标本回合使用技能 → 伤害×2 |
| 5 | 马鞭 | 辅助 | 无 | 自己 | 0 | 敏捷永久+1；逃跑成功率永久提升至70% |
| 6 | 马踏飞燕 | 近战 | 80 RAGE | 1个敌人 | 50 | 若目标本回合防御 → 伤害×1.5 |

---

### 6.2 装甲战士 (Armored Warrior)

**定位**: 坦克型，高生命高韧性，稳扎稳打

#### 基础属性

| 属性 | 数值 |
|------|------|
| 生命值 (HP) | 350 |
| 魔法值 (MP) | 120 |
| 敏捷值 (AGI) | 4 |
| 韧性值 (DEF) | 3 |
| 普攻伤害 (ATK) | 25 |

#### 被动能力

**钢铁意志**: 每回合开始时，**动作选择前**，自动获得 **5 怒气**
- 触发时机：回合开始后**最先触发**，早于任何动作选择
- 可以影响本回合是否能使用60怒气技能

#### 技能列表（5个）

| # | 技能名 | 类型 | 消耗 | 目标 | 基础伤害 | 条件效果 |
|---|--------|------|------|------|----------|----------|
| - | 普通攻击 | 近战 | 无 | 1个敌人 | 25 | - |
| 1 | 冲锋 | 近战 | 10 HP | 1个敌人 | 75 | 若目标本回合逃跑 → 伤害归0（无效） |
| 2 | 顶盾 | 辅助 | 60 RAGE | 自己 | 0 | **未来3回合**韧性+2（详见下方） |
| 3 | 重锤 | 近战 | 20 MP | 1个敌人 | 50 | 若目标本回合防御 → 伤害×1.5 |
| 4 | 盾击 | 近战 | 20 MP | 1个敌人 | 40 | 若目标本回合普攻 → 伤害×1.5 |
| 5 | 反震 | 辅助 | 60 RAGE | 自己 | 0 | **仅对近战生效**（详见下方） |

#### 顶盾详细规则

- 消耗 60 怒气
- **立即生效**，本回合结算时即享受韧性+2
- 效果持续 **3回合**（包括本回合）
  - 回合N使用顶盾 → 回合N、N+1、N+2 生效
  - 回合N+3开始，韧性恢复原值
- 期间韧性值 +2（从3变为5）
- **对真实伤害无效**（真实伤害无视韧性加成）

#### 反震详细规则

- 消耗 60 怒气
- **无视敏捷顺序，回合开始时立刻生效**
- 本回合所有**近战类型**的攻击/技能对自己：
  - 自己仅受到 **25%** 的最终伤害
  - **反弹 75%** 的最终伤害给攻击者（不再计算攻击者韧性）
- **远程和魔法攻击正常造成伤害，不触发反弹**
- **真实伤害交互**：真实伤害（无论近战或远程）**无视反震**，装甲战士受100%伤害，不触发反弹
- **精确瞄准交互**：反震基于**精确瞄准加成后**的最终伤害计算

#### 反震计算示例

**示例1：普通近战**
> 骑士使用「冲锋」(近战) 攻击开了反震的装甲战士
> - 冲锋消耗: 骑士 -10 HP
> - 原始最终伤害: 75 × (10-3)/10 = 52.5
> - 反震生效:
>   - 装甲战士受到: 52.5 × 25% = 13.13
>   - 反弹给骑士: 52.5 × 75% = 39.38
> - 骑士本回合总损失: 10(消耗) + 39.38(反弹) = 49.38

**示例2：精确瞄准 + 近战**
> 弓箭手(AGI 8)使用「匕首突刺」(近战) 攻击开了反震的装甲战士
> - 基础伤害: 35 × (10-3)/10 = 24.5
> - 精确瞄准: 5 × (8-4) = +20
> - 最终伤害: 24.5 + 20 = 44.5
> - 反震生效（基于44.5计算）:
>   - 装甲战士受到: 44.5 × 25% = 11.13
>   - 反弹给弓箭手: 44.5 × 75% = 33.38

**示例3：远程不触发反震**
> 弓箭手使用「太阳之弓」(远程) 攻击开了反震的装甲战士
> - 反震不生效（太阳之弓是远程类型）
> - 装甲战士正常受到全额伤害

---

### 6.3 弓箭手 (Archer)

**定位**: 远程输出，技能多变，高敏捷克制低敏捷

#### 基础属性

| 属性 | 数值 |
|------|------|
| 生命值 (HP) | **270** |
| 魔法值 (MP) | 150 |
| 敏捷值 (AGI) | 6 |
| 韧性值 (DEF) | 1.5 |
| 普攻伤害 (ATK) | 20 |

#### 被动能力（2个）

**1. 游击战术**
- 使用**远程技能**后，**下一回合**敏捷值+2
- 如果下一回合**继续使用远程技能**，AGI保持+2（不叠加）
- 如果下一回合**使用其他动作**（普攻、近战技能、防御、逃跑），AGI恢复原值6
- **普通攻击不触发此被动**
- **UI需求**：游击战术激活时需要视觉提示（状态图标 + 角色特效），让玩家和AI都能知道当前AGI状态

**2. 精确瞄准**
- 对敏捷值**比自己低**的角色造成伤害时，最终伤害额外 **+5×n**
- n = 弓箭手当前AGI - 目标AGI
- 若目标AGI ≥ 弓箭手AGI，则不触发
- **真实伤害技能不适用此加成**

#### 被动效果示例

| 情况 | 弓箭手AGI | 目标 | 精确瞄准加成 |
|------|----------|------|-------------|
| 基础状态 | 6 | 骑士(AGI 7) | +0（目标AGI更高） |
| 基础状态 | 6 | 装甲战士(AGI 4) | +10 |
| 游击战术后 | 8 | 骑士(AGI 7) | +5 |
| 游击战术后 | 8 | 骑士使用马鞭(AGI 8) | +0（AGI相同） |
| 游击战术后 | 8 | 装甲战士(AGI 4) | +20 |

#### 技能列表（7个）

| # | 技能名 | 类型 | 消耗 | 目标 | 基础伤害 | 条件效果 |
|---|--------|------|------|------|----------|----------|
| - | 普通攻击 | **远程** | 无 | 1个敌人 | 20 | -（不触发游击战术） |
| 1 | 太阳之弓 | **远程** | 15 MP | 1个敌人 | 30 | 若目标本回合使用技能 → 伤害×2 |
| 2 | 长虹贯日 | **远程** | 20 MP | 1-2个敌人（不可重复） | 30（每个） | 若目标本回合未逃跑 → 伤害×1.5（多目标时分别判定） |
| 3 | 彩虹穿云 | **远程** | 20 MP + 30 RAGE | 1个敌人 | 50 | 若目标本回合未防御 → 伤害×1.5 |
| 4 | 回马枪 | **远程** | 15 MP | 1个敌人 | 30 | 若目标本回合使用**近战技能** → 伤害×2 |
| 5 | 匕首突刺 | **近战** | 10 MP | 1个敌人 | 35 | 无条件 |
| 6 | 漫天花雨 | **远程** | 80 RAGE | 全体敌人 | **80真实伤害** | 无视一切减伤（见下方详细说明） |

#### 回马枪详细规则

- 克制所有**近战类型**的技能（包括普攻不触发，因为普攻不是技能）
- 与「太阳之弓」的区别：
  - 太阳之弓：目标使用**任何技能**（包括远程、辅助）触发×2
  - 回马枪：目标使用**近战技能**才触发×2

#### 漫天花雨详细规则

- 消耗 80 怒气
- 对**全体敌人**造成 **80点真实伤害**
- **无视**：韧性、防御、逃跑、顶盾等一切减伤效果
- **不触发**：精确瞄准加成（真实伤害固定）
- **触发**：游击战术（本技能是远程技能）
- **不触发**：反震（本技能是远程类型）

> **设计意图**: 弓箭手的大招，用于在多人战中对高韧性目标造成稳定伤害，是弓箭手克制装甲战士的关键技能

---

## 七、技能条件判断汇总

### 7.1 条件类型

| 条件 | 触发情况 | 相关技能 |
|------|----------|----------|
| 目标逃跑 | 目标本回合选择「逃跑」动作（无论成功与否） | 冲锋、追砍、长虹贯日 |
| 目标防御 | 目标本回合选择「防御」动作 | 马踏飞燕、重锤 |
| 目标未防御 | 目标本回合未选择「防御」动作 | 彩虹穿云 |
| 目标用技能 | 目标本回合选择「使用技能」动作 | 太阳之弓 |
| 目标用近战技能 | 目标本回合使用**近战类型**的技能 | 回马枪 |
| 目标普攻 | 目标本回合选择「普通攻击」动作 | 盾击 |

### 7.2 技能与条件关系矩阵

| 技能 | 目标逃跑时 | 目标防御时 | 目标用近战技能 | 目标用远程/辅助技能 | 目标普攻时 |
|------|-----------|-----------|---------------|-------------------|-----------|
| 冲锋 | 伤害归0 | 正常 | 正常 | 正常 | 正常 |
| 追砍 | 伤害×4 | 正常 | 正常 | 正常 | 正常 |
| 太阳之弓 | 正常 | 正常 | 伤害×2 | 伤害×2 | 正常 |
| 回马枪 | 正常 | 正常 | **伤害×2** | 正常 | 正常 |
| 马踏飞燕 | 正常 | 伤害×1.5 | 正常 | 正常 | 正常 |
| 重锤 | 正常 | 伤害×1.5 | 正常 | 正常 | 正常 |
| 盾击 | 正常 | 正常 | 正常 | 正常 | 伤害×1.5 |
| 长虹贯日 | 正常 | 伤害×1.5 | 伤害×1.5 | 伤害×1.5 | 伤害×1.5 |
| 彩虹穿云 | 伤害×1.5 | 正常 | 伤害×1.5 | 伤害×1.5 | 伤害×1.5 |

> 注:
> - 「长虹贯日」的条件是"未逃跑"，所以防御/技能/普攻都触发加成
> - 「彩虹穿云」的条件是"未防御"，所以逃跑/技能/普攻都触发加成
> - 「重锤」和「马踏飞燕」都是针对防御的技能，形成对称设计
> - 「盾击」是唯一针对普攻的技能，反制无脑普攻流
> - 「太阳之弓」和「回马枪」的区别：太阳之弓对所有技能触发，回马枪只对近战技能触发

---

## 八、AI行为规则

### 8.1 AI决策原则

1. **优先使用技能**: 在有足够MP/RAGE的情况下，优先使用技能进行输出
2. **随机混淆**: 会将防御、逃跑、技能穿插使用，迷惑对手
3. **资源管理**: 会考虑MP和RAGE的消耗，不会无脑释放

### 8.2 AI目标选择

- 多个敌人时，AI会根据一定策略选择目标
- 可能优先攻击低HP的敌人
- 可能优先攻击对自己威胁大的敌人

---

## 九、待确认/待完善的问题

### 9.1 已确认

- [x] 马鞭效果：敏捷+1和逃跑成功率提升均为永久生效
- [x] 敏捷值相同时：随机决定行动顺序
- [x] 长虹贯日目标选择：同一目标只能选择一次，不可重复
- [x] 角色死亡时：已选择的动作不再结算
- [x] 逃跑成功后：分攻击类型判定闪避（见4.4节详细规则）
- [x] MP/RAGE回复：无自动回复机制，仅通过技能效果回复（如有）
- [x] RAGE上限：100
- [x] HP消耗型技能：HP必须大于消耗值才能使用（不能用到死）
- [x] 最终伤害最低为0：不会出现负伤害

### 9.2 待确认

（暂无）

---

## 十、素材需求清单（基于游戏逻辑）

### 10.1 角色动画状态

基于游戏逻辑，每个角色需要以下动画状态：

| 状态 | 触发时机 | 备注 |
|------|----------|------|
| 待机 | 回合等待时 | 循环动画 |
| 普通攻击 | 选择普攻时 | |
| 防御 | 选择防御时 | |
| 逃跑 | 选择逃跑时 | 成功/失败可能不同表现 |
| 受击 | 受到伤害时 | |
| 死亡 | HP归0时 | |
| 施法/技能 | 使用技能时 | 可能每个技能不同动作 |

### 10.2 状态效果（Buff/Debuff）

| 状态 | 角色 | 视觉表现 | 持续 |
|------|------|----------|------|
| 游击战术 | 弓箭手 | 速度光环/残影特效 + 状态图标 | 下回合 |
| 顶盾 | 装甲战士 | 防御光罩 + 状态图标 | 3回合 |
| 反震 | 装甲战士 | 反弹波纹/能量护盾 | 本回合 |
| 马鞭加速 | 骑士 | 速度光环 + 状态图标 | 永久 |

### 10.3 技能特效需求

| 角色 | 技能 | 特效描述 |
|------|------|----------|
| 骑士 | 升龙击 | 上升斩击光芒 |
| 骑士 | 冲锋 | 冲刺残影 |
| 骑士 | 追砍 | 连续斩击特效 |
| 骑士 | 太阳之弓 | 金色光箭 |
| 骑士 | 马鞭 | 鞭击 + 速度光环 |
| 骑士 | 马踏飞燕 | 马蹄踏击 |
| 装甲战士 | 冲锋 | 冲刺残影 |
| 装甲战士 | 顶盾 | 防御光罩（持续3回合） |
| 装甲战士 | 重锤 | 锤击震地波 |
| 装甲战士 | 盾击 | 盾牌撞击特效 |
| 装甲战士 | 反震 | 反弹波纹/能量护盾 |
| 弓箭手 | 太阳之弓 | 金色光箭 |
| 弓箭手 | 长虹贯日 | 多段彩色箭矢 |
| 弓箭手 | 彩虹穿云 | 彩色穿透箭 |
| 弓箭手 | 回马枪 | 回身射击 + 箭矢轨迹 |
| 弓箭手 | 匕首突刺 | 近身匕首攻击 |
| 弓箭手 | 漫天花雨 | 天空降落大量箭矢（大招特效） |

---

## 更新日志

| 日期 | 版本 | 更新内容 |
|------|------|----------|
| 2025-01-30 | v0.1 | 初始版本，基础规则梳理 |
| 2026-02-01 | v0.2 | 确认5个待定规则：敏捷同值随机、长虹贯日不可重复目标、死亡动作取消、逃跑分层闪避机制、无资源回复 |
| 2026-02-01 | v0.3 | 规则审计后补充：RAGE上限100、HP消耗技能使用条件、最终伤害最低为0、马鞭敏捷+1明确为永久 |
| 2026-02-02 | v0.4 | 平衡性调整：重锤条件从"未逃跑"改为"防御"，避免技能超模 |
| 2026-02-02 | v0.5 | 重大更新：新增技能类型系统（近战/远程/魔法/辅助）；装甲战士新增被动「钢铁意志」、技能「盾击」「反震」；「顶盾」改为3回合+2韧性；「反震」仅对近战生效 |
| 2026-02-02 | v0.6 | **弓箭手完整设计**：HP 250→270；新增被动「游击战术」（远程技能后下回合AGI+2，不叠加）、「精确瞄准」（对低AGI目标+5×n伤害）；新增技能「回马枪」（克制近战）、「匕首突刺」（近战备用）、「漫天花雨」（80怒气80真实伤害大招）；新增真实伤害机制 |
| 2026-02-02 | v0.7 | **规则审计后修复**：(1)怒气规则统一为仅受伤获得等额怒气；(2)明确真实伤害无视防御且100%命中逃跑目标；(3)明确普攻不是技能；(4)顶盾回合计算包括本回合；(5)反震基于精确瞄准后的最终伤害计算；(6)群体伤害按目标分别计算怒气；(7)钢铁意志在动作选择前触发；(8)新增状态效果UI需求 |
| 2026-02-02 | v0.8 | **二次审计后优化**：(1)防御韧性加成改为×(100%+10%×初始韧性)，避免顶盾+防御极端减伤；(2)新增回合内执行顺序详细说明；(3)明确长虹贯日多目标时分别判定条件 |
| 2026-02-05 | v0.9 | **模拟测试确认**：(1)追砍条件判定澄清——选择逃跑即触发×4(不论成功与否)，追击技能对逃跑成功目标100%命中；(2)新增死亡清除状态规则；(3)明确真实伤害无论近战或远程均无视反震，不触发反弹；(4)确认弓箭手HP 270不调整（绝地反击型定位）；(5)确认伤害计算顺序：先条件加成再韧性减伤 |
