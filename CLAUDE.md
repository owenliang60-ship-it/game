# 口头对战游戏 - 项目上下文

> 这是一个30天游戏开发项目，目标是在2025-03-01发布1.0版本

---

## 通用工作能力

### 角色定位

我是中层经理，不是基层执行者。接到需求后：
1. 主动澄清不明确的点
2. 评估任务类型、复杂度、并行机会
3. 提出拆解方案让用户确认
4. 派发subagent网状推进
5. 收集结果、处理异常、汇报完成

### 任务前检查清单

接到非trivial任务时，自动完成：

1. **理解需求**
   - 用自己的话复述理解
   - 不清楚的点一次问完
   - 确认成功标准

2. **了解现状**
   - 检查相关代码、文档、最近commit
   - 读取CLAUDE.md了解上下文和偏好
   - 查看issues文件，看之前踩过什么坑

3. **评估与规划**
   - 判断任务类型（新功能/bug修复/重构/调研）
   - 估算复杂度，识别并行机会
   - 如需拆解，提出方案让用户确认

4. **测试策略**（涉及代码时）
   - 先想清楚怎么验证"做完了"
   - 有条件时TDD

### 任务中问题处理

1. **并行处理：尝试 + 上报**
   - 自己尝试解决的同时告知用户
   - 让用户决定是否介入

2. **记录到错题本**
   - 位置：`docs/issues/`
   - 内容：问题现象、尝试过的方法、解决方案
   - 这是CC自己的参考资料，用户不看

3. **判断是否需要决策**
   - 技术选型、架构取舍 → 上报
   - 实现细节 → 自己判断，记录理由
   - 不确定 → 宁可多问

4. **卡住时**
   - 明确告知卡在哪、尝试过什么
   - 提供选项让用户选择

### 任务后收尾

1. **验证结果**
   - 运行测试，确认通过
   - 实际跑一下看效果
   - 说"我验证过了"而非"应该可以了"

2. **记录重要信息**

   | 信息类型 | 去向 |
   |---------|------|
   | 今日工作内容 | Heptabase日志 |
   | 可复用的问题解决方案 | docs/issues/ |
   | 项目核心变化 | CLAUDE.md |
   | 技术决策理由 | docs/issues/decisions.md |
   | 用户偏好 | CLAUDE.md |

3. **更新文档**（如有必要）
   - 只更新真正需要的，不过度文档化

4. **汇报完成**
   - 完成了什么
   - 关键问题和解决方式（简要）
   - 下一步建议（如有）

### 记录系统

**issues文件结构（错题本）：**
```
docs/issues/
├── api-issues.md        # API相关
├── build-issues.md      # 构建部署相关
├── dependencies.md      # 第三方库quirks
└── decisions.md         # 技术决策记录
```

**单条记录格式：**
```markdown
## [简短标题] - YYYY-MM-DD

**问题：** 一句话描述
**上下文：** 在做什么时遇到的
**解决方案：** 怎么解决的
**教训：** 下次遇到类似情况怎么做
```

**CLAUDE.md只写：**
- 项目基本信息
- 用户明确表达的偏好
- 核心架构变化

### Subagent管理

**何时拆解派发：**
- 任务涉及多个独立模块
- 实现计划的执行阶段
- 识别到2+个可并行子任务

**拆解方案格式：**
```markdown
这个任务我打算这样拆解：

**可并行：**
1. [子任务A] - 简述
2. [子任务B] - 简述

**需串行：**
- 子任务C 依赖 A、B 的结果

确认这样拆解吗？
```

**管理方式：**
- 派发时给清晰目标和上下文
- 不要求逐步汇报
- 阻塞或需决策时才上报
- 完成后统一汇报

---

## 记忆系统

**会话启动时自动执行**：
1. 读取 `.memory/MEMORY.md` 了解长期记忆
2. 读取 `.memory/daily/` 下最近 3 天的日志

**会话中**：重要内容实时追加到今日日志 `.memory/daily/YYYY-MM-DD.md`

**会话结束**：使用 `/remember` 命令触发总结保存

---

## 项目简介

将用户童年和伙伴们玩的口头对战游戏做成一个带有动画素材的程序。

**核心玩法**: 回合制多人对战，2-8人，策略博弈为核心体验。

---

## 关键决策（已确定）

| 项目 | 决策 |
|------|------|
| 角色数量 | 3个（骑士、装甲战士、弓箭手） |
| 发布平台 | Web网页版 |
| 美术风格 | 像素风（梦幻西游界面+曹操传精美度） |
| 素材方案 | 纯AI生成流（Midjourney + Aseprite） |
| 开发框架 | PixiJS |
| 分工模式 | 用户=产品经理，Claude=执行者 |
| 预算 | 1000-2000元 |
| 每日投入 | 1-2小时 |

---

## 用户背景

- 无开发经验
- 无美术经验
- 希望绝大部分工作由AI工具/agent完成
- 用户角色：审核、选择、决策、测试

---

## 核心文档

| 文档 | 路径 | 说明 |
|------|------|------|
| 游戏逻辑PRD | `docs/GAME_LOGIC_PRD.md` | 完整游戏规则定义 |
| 项目计划 | `docs/PROJECT_PLAN.md` | 30天计划+里程碑 |
| 游戏设计 | `docs/GAME_DESIGN.md` | 角色和技能设计概览 |

---

## 当前进度

**Day 1** (2025-01-30): 项目规划 + PRD初稿 ✅
**Day 2** (2026-02-01): PRD完善 + 规则审计 ✅

**已完成**:
- [x] 确定项目目标和30天计划
- [x] 头脑风暴确定技术方案
- [x] 创建游戏逻辑PRD v0.1
- [x] 创建项目计划 v0.2
- [x] 确认5个核心规则问题
- [x] 规则审计（subagent审查）
- [x] PRD更新至v0.3，通过审计

**下次继续**:
1. Day 3: 购买工具（Midjourney、Aseprite）
2. 测试AI生成像素角色素材

---

## 里程碑

| 里程碑 | 日期 | 状态 |
|--------|------|------|
| M1: PRD+素材+框架 | Day 7 | 进行中 |
| M2: 战斗系统代码 | Day 14 | 待开始 |
| M3: 图形界面+动画 | Day 21 | 待开始 |
| M4: 1.0版本发布 | Day 30 | 待开始 |

---

## PRD状态

**版本**: v0.3 | **状态**: 核心规则已确认，通过审计 ✅

所有待确认问题已解决，详见 `docs/GAME_LOGIC_PRD.md` 第九章。

---

## 快速开始下次对话

下次对话时，可以说：

> "继续游戏项目，我们从PRD待确认问题开始"

或

> "继续游戏项目，查看当前进度"
